<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Dashboard - Portfolio</title>
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/components.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <style>
        body { background:#0f172a; color:#e2e8f0; font-family:'Poppins',sans-serif; }
        .admin-shell { display:grid; grid-template-columns:260px 1fr; min-height:100vh; }
        .sidebar { background:#0b1222; border-right:1px solid #1f2937; padding:1rem; position:sticky; top:0; height:100vh; overflow-y:auto; }
        .sidebar h2 { font-size:1.25rem; margin:0 0 1rem; display:flex; gap:.5rem; align-items:center; }
        .nav { display:flex; flex-direction:column; gap:.5rem; }
        .nav a { color:#cbd5e1; text-decoration:none; padding:.6rem .8rem; border-radius:.5rem; display:flex; gap:.6rem; align-items:center; }
        .nav a.active, .nav a:hover { background:#111827; color:#fff; }
        .content { padding:1.25rem; overflow-y:auto; }
        .topbar { display:flex; justify-content:space-between; align-items:center; margin-bottom:1rem; }
        .kpis { display:grid; grid-template-columns: repeat(auto-fit,minmax(180px,1fr)); gap:1rem; margin-bottom:1rem; }
        .kpi { background:#0b1222; border:1px solid #1f2937; padding:1rem; border-radius:.75rem; }
        .cards { display:grid; grid-template-columns: repeat(auto-fit,minmax(260px,1fr)); gap:1rem; }
        .card { background:#0b1222; border:1px solid #1f2937; padding:1rem; border-radius:.75rem; }
        .hidden { display:none !important; }
        /* simple toast */
        .admin-toast { position:fixed; right:1rem; bottom:1rem; background:#111827; color:#fff; border:1px solid #374151; padding:.75rem 1rem; border-radius:.5rem; opacity:0; transform:translateY(10px); transition:all .2s ease; display:flex; gap:.5rem; align-items:center; z-index:9999; }
        .admin-toast.visible { opacity:1; transform:translateY(0); }
        .btn { background:#1f2937; color:#fff; border:none; border-radius:.5rem; padding:.5rem .8rem; cursor:pointer; margin:.25rem; }
        .btn:hover { background:#374151; }
        .btn-danger { background:#b91c1c; }
        .btn-secondary { background:#334155; }
        .btn-success { background:#059669; }
        .btn-warning { background:#d97706; }
        .btn-sm { padding:.3rem .6rem; font-size:.8rem; }
        .grid { display:grid; gap:.75rem; }
        .project-card,.achievement-card,.message-card,.skill-card,.education-card { border:1px solid #1f2937; background:#0f172a; border-radius:.75rem; padding:.75rem; }
        .project-header,.achievement-header,.message-header,.skill-header,.education-header { display:flex; justify-content:space-between; align-items:center; gap:.5rem; }
        .status-badge,.type-badge,.level-badge{ font-size:.75rem; background:#111827; border:1px solid #1f2937; padding:.1rem .4rem; border-radius:.35rem; }
        .message-card.unread { border-color:#2563eb; }
        .unread-indicator{ width:8px; height:8px; background:#2563eb; border-radius:50%; display:inline-block; margin-right:.5rem; }
        .muted{ color:#94a3b8; font-size:.85rem; }
        .section-title{ margin:.25rem 0 .75rem; font-size:1.1rem; }
        .form-grid{ display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:.6rem; }
        .form-grid textarea{ grid-column:1/-1; }
        input,select,textarea{ background:#0f172a; border:1px solid #1f2937; color:#e2e8f0; border-radius:.5rem; padding:.5rem .6rem; width:100%; box-sizing:border-box; }
        label{ font-size:.85rem; color:#93a3b8; display:block; margin-bottom:.3rem; }
        .field{ display:flex; flex-direction:column; gap:.35rem; }
        .image-row{ display:flex; align-items:center; gap:1rem; }
        .image-preview{ width:64px; height:64px; border-radius:8px; object-fit:cover; border:1px solid #1f2937; cursor:pointer; }
        .card-actions{ display:flex; flex-wrap:wrap; gap:.4rem; margin-top:.5rem; }
        .tech-tag{ display:inline-block; background:#0b1222; border:1px solid #1f2937; padding:.15rem .4rem; border-radius:.35rem; margin:.15rem .25rem .15rem 0; font-size:.8rem; }
        .skill-row{ display:flex; justify-content:space-between; align-items:center; background:#0b1222; border:1px solid #1f2937; padding:.5rem .6rem; border-radius:.5rem; margin-bottom:.5rem; }
        .progress-bar{ width:100%; height:8px; background:#1f2937; border-radius:4px; overflow:hidden; margin:.3rem 0; }
        .progress-fill{ height:100%; background:#3b82f6; transition:width .3s ease; }
        .form-section{ background:#0b1222; border:1px solid #1f2937; border-radius:.75rem; padding:1rem; margin-bottom:1rem; }
        .section-subtitle{ color:#94a3b8; font-size:.9rem; margin-bottom:1rem; }
        .two-column { grid-template-columns: 1fr 1fr; }
        .span-full { grid-column: 1 / -1; }
        .checkbox-field { display:flex; align-items:center; gap:.5rem; }
        .checkbox-field input[type="checkbox"] { width:auto; }
    </style>
</head>
<body>
    <div class="admin-shell">
        <aside class="sidebar">
            <h2><i class="fas fa-shield-alt"></i> Admin Dashboard</h2>
            <nav class="nav">
                <a href="#dashboard" data-section="dashboard" class="active"><i class="fas fa-gauge"></i> Dashboard</a>
                <a href="#profile" data-section="profile"><i class="fas fa-user"></i> Profile</a>
                <a href="#about" data-section="about"><i class="fas fa-id-card"></i> About</a>
                <a href="#skills" data-section="skills"><i class="fas fa-code"></i> Skills</a>
                <a href="#projects" data-section="projects"><i class="fas fa-project-diagram"></i> Projects</a>
                <a href="#education" data-section="education"><i class="fas fa-graduation-cap"></i> Education</a>
                <a href="#achievements" data-section="achievements"><i class="fas fa-trophy"></i> Achievements</a>
                <a href="#messages" data-section="messages"><i class="fas fa-inbox"></i> Messages <span id="unread-count" class="status-badge">0</span></a>
                <a href="#settings" data-section="settings"><i class="fas fa-cog"></i> Settings</a>
                <hr style="border:none; border-top:1px solid #1f2937; margin:1rem 0;">
                <a href="index.html" title="Back to Portfolio"><i class="fas fa-arrow-left"></i> Portfolio</a>
            </nav>
        </aside>
        <main class="content">
            <div class="topbar">
                <h1>Portfolio Management</h1>
                <div>
                    <button class="btn btn-success" onclick="openPortfolioPreview()"><i class="fas fa-eye"></i> Preview Portfolio</button>
                    <button class="btn btn-danger" onclick="logout()"><i class="fas fa-sign-out-alt"></i> Logout</button>
                </div>
            </div>

            <!-- Dashboard Section -->
            <section data-content-section="dashboard">
                <div class="kpis">
                    <div class="kpi">
                        <div class="muted">Projects</div>
                        <div id="projects-count" style="font-size:2rem; font-weight:bold; color:#3b82f6;">0</div>
                    </div>
                    <div class="kpi">
                        <div class="muted">Skills</div>
                        <div id="skills-count" style="font-size:2rem; font-weight:bold; color:#059669;">0</div>
                    </div>
                    <div class="kpi">
                        <div class="muted">Achievements</div>
                        <div id="achievements-count" style="font-size:2rem; font-weight:bold; color:#d97706;">0</div>
                    </div>
                    <div class="kpi">
                        <div class="muted">Messages</div>
                        <div id="messages-count" style="font-size:2rem; font-weight:bold; color:#dc2626;">0</div>
                    </div>
                </div>
                <div class="card">
                    <h3 class="section-title">Recent Activity</h3>
                    <div id="activity-list" class="grid"></div>
                </div>
            </section>

            <!-- Profile Section -->
            <section data-content-section="profile" class="hidden">
                <h3 class="section-title">Profile Management</h3>
                <p class="section-subtitle">Update your personal information and contact details</p>
                
                <div class="form-section">
                    <h4><i class="fas fa-user"></i> Personal Information</h4>
                    <form id="profile-form">
                        <div class="image-row" style="margin-bottom:1rem;">
                            <img id="profile-preview" class="image-preview" alt="Profile" src="images/portfolio.jpg" title="Click to upload image" />
                            <input type="file" id="profile-image" accept="image/*" style="display:none" />
                            <div class="field" style="flex:1">
                                <label for="profile-image-url">Profile Image URL</label>
                                <input type="url" id="profile-image-url" name="profileImageUrl" placeholder="https://example.com/image.jpg" />
                            </div>
                        </div>
                        
                        <div class="form-grid">
                            <div class="field">
                                <label for="full-name">Full Name *</label>
                                <input id="full-name" name="fullName" type="text" placeholder="Your full name" required />
                            </div>
                            <div class="field">
                                <label for="title">Professional Title *</label>
                                <input id="title" name="title" type="text" placeholder="Full Stack Developer" required />
                            </div>
                            <div class="field span-full">
                                <label for="description">Short Bio</label>
                                <textarea id="description" name="description" rows="3" placeholder="A brief description about yourself"></textarea>
                            </div>
                        </div>
                        
                        <h5 style="margin:1rem 0 .5rem; color:#e2e8f0;">Contact Information</h5>
                        <div class="form-grid">
                            <div class="field">
                                <label for="email">Email Address</label>
                                <input id="email" name="email" type="email" placeholder="your.email@example.com" />
                            </div>
                            <div class="field">
                                <label for="phone">Phone Number</label>
                                <input id="phone" name="phone" type="tel" placeholder="+1234567890" />
                            </div>
                            <div class="field">
                                <label for="location">Location</label>
                                <input id="location" name="location" type="text" placeholder="City, Country" />
                            </div>
                            <div class="field">
                                <label for="website">Personal Website</label>
                                <input id="website" name="website" type="url" placeholder="https://yourwebsite.com" />
                            </div>
                        </div>
                        
                        <h5 style="margin:1rem 0 .5rem; color:#e2e8f0;">Social Media</h5>
                        <div class="form-grid">
                            <div class="field">
                                <label for="linkedin">LinkedIn</label>
                                <input id="linkedin" name="linkedInUrl" type="url" placeholder="https://linkedin.com/in/..." />
                            </div>
                            <div class="field">
                                <label for="github">GitHub</label>
                                <input id="github" name="gitHubUrl" type="url" placeholder="https://github.com/..." />
                            </div>
                            <div class="field">
                                <label for="twitter">Twitter</label>
                                <input id="twitter" name="twitterUrl" type="url" placeholder="https://twitter.com/..." />
                            </div>
                            <div class="field">
                                <label for="facebook">Facebook</label>
                                <input id="facebook" name="facebookUrl" type="url" placeholder="https://facebook.com/..." />
                            </div>
                            <div class="field">
                                <label for="instagram">Instagram</label>
                                <input id="instagram" name="instagramUrl" type="url" placeholder="https://instagram.com/..." />
                            </div>
                            <div class="field">
                                <label for="whatsapp">WhatsApp</label>
                                <input id="whatsapp" name="whatsAppNumber" type="text" placeholder="+1234567890" />
                            </div>
                        </div>
                        
                        <div style="margin-top:1rem;">
                            <button type="submit" class="btn btn-success"><i class="fas fa-save"></i> Save Profile</button>
                            <button type="button" class="btn btn-secondary" onclick="resetProfileForm()"><i class="fas fa-undo"></i> Reset</button>
                        </div>
                    </form>
                </div>
            </section>

            <!-- About Section -->
            <section data-content-section="about" class="hidden">
                <h3 class="section-title">About Content</h3>
                <p class="section-subtitle">Write your detailed biography and personal story</p>
                
                <div class="form-section">
                    <form id="about-form">
                        <div class="field">
                            <label for="about-content">About Me Content *</label>
                            <textarea id="about-content" name="aboutContent" rows="12" placeholder="Write your detailed biography, background, interests, and what drives you professionally..." required></textarea>
                            <small class="muted">Support for HTML formatting. You can use basic HTML tags like &lt;p&gt;, &lt;br&gt;, &lt;strong&gt;, &lt;em&gt;</small>
                        </div>
                        
                        <div class="field">
                            <label for="about-summary">Professional Summary</label>
                            <textarea id="about-summary" name="summary" rows="4" placeholder="A concise professional summary (2-3 sentences)"></textarea>
                        </div>
                        
                        <div class="form-grid">
                            <div class="field">
                                <label for="years-experience">Years of Experience</label>
                                <input id="years-experience" name="yearsOfExperience" type="number" min="0" placeholder="5" />
                            </div>
                            <div class="field">
                                <label for="current-role">Current Role</label>
                                <input id="current-role" name="currentRole" type="text" placeholder="Senior Developer at Company" />
                            </div>
                        </div>
                        
                        <div style="margin-top:1rem;">
                            <button type="submit" class="btn btn-success"><i class="fas fa-save"></i> Save About</button>
                            <button type="button" class="btn btn-secondary" onclick="previewAbout()"><i class="fas fa-eye"></i> Preview</button>
                        </div>
                    </form>
                </div>
            </section>

            <!-- Skills Section -->
            <section data-content-section="skills" class="hidden">
                <h3 class="section-title">Skills Management</h3>
                <p class="section-subtitle">Manage your technical and professional skills</p>
                
                <div class="form-section">
                    <h4><i class="fas fa-plus"></i> Add New Skill</h4>
                    <form id="skill-form">
                        <div class="form-grid">
                            <div class="field">
                                <label for="skill-name">Skill Name *</label>
                                <input id="skill-name" name="name" type="text" placeholder="JavaScript" required />
                            </div>
                            <div class="field">
                                <label for="skill-category">Category</label>
                                <select id="skill-category" name="category">
                                    <option value="Frontend">Frontend</option>
                                    <option value="Backend">Backend</option>
                                    <option value="Database">Database</option>
                                    <option value="DevOps">DevOps</option>
                                    <option value="Mobile">Mobile</option>
                                    <option value="Languages">Languages</option>
                                    <option value="Tools">Tools</option>
                                    <option value="Frameworks">Frameworks</option>
                                    <option value="Other">Other</option>
                                </select>
                            </div>
                            <div class="field">
                                <label for="skill-level">Proficiency Level</label>
                                <select id="skill-level" name="level">
                                    <option value="Beginner">Beginner</option>
                                    <option value="Intermediate">Intermediate</option>
                                    <option value="Advanced">Advanced</option>
                                    <option value="Expert">Expert</option>
                                </select>
                            </div>
                            <div class="field">
                                <label for="skill-percentage">Proficiency % (1-100)</label>
                                <input id="skill-percentage" name="proficiencyPercentage" type="number" min="1" max="100" placeholder="85" />
                            </div>
                            <div class="field">
                                <label for="skill-experience">Years of Experience</label>
                                <input id="skill-experience" name="yearsOfExperience" type="number" min="0" step="0.5" placeholder="3" />
                            </div>
                            <div class="field">
                                <label for="skill-icon">Icon Class (Font Awesome)</label>
                                <input id="skill-icon" name="iconClass" type="text" placeholder="fab fa-js-square" />
                            </div>
                        </div>
                        
                        <div style="margin-top:1rem;">
                            <button type="submit" class="btn btn-success"><i class="fas fa-plus"></i> Add Skill</button>
                            <button type="reset" class="btn btn-secondary"><i class="fas fa-times"></i> Clear</button>
                        </div>
                    </form>
                </div>
                
                <div class="card">
                    <h4><i class="fas fa-list"></i> Current Skills</h4>
                    <div id="skills-grid" class="grid"></div>
                </div>
            </section>

            <!-- Projects Section -->
            <section data-content-section="projects" class="hidden">
                <h3 class="section-title">Projects Management</h3>
                <p class="section-subtitle">Showcase your portfolio projects</p>
                
                <div class="form-section">
                    <h4><i class="fas fa-plus"></i> Add New Project</h4>
                    <form id="project-form">
                        <div class="form-grid">
                            <div class="field">
                                <label for="project-title">Project Title *</label>
                                <input id="project-title" name="title" type="text" placeholder="E-commerce Platform" required />
                            </div>
                            <div class="field">
                                <label for="project-category">Category</label>
                                <select id="project-category" name="category">
                                    <option value="Web Development">Web Development</option>
                                    <option value="Mobile App">Mobile App</option>
                                    <option value="Desktop App">Desktop App</option>
                                    <option value="API Development">API Development</option>
                                    <option value="Data Science">Data Science</option>
                                    <option value="DevOps">DevOps</option>
                                    <option value="Game Development">Game Development</option>
                                    <option value="Other">Other</option>
                                </select>
                            </div>
                            <div class="field">
                                <label for="project-status">Status</label>
                                <select id="project-status" name="status">
                                    <option value="Completed">Completed</option>
                                    <option value="In Progress">In Progress</option>
                                    <option value="Planned">Planned</option>
                                    <option value="On Hold">On Hold</option>
                                    <option value="Cancelled">Cancelled</option>
                                </select>
                            </div>
                            <div class="field">
                                <label for="project-priority">Priority</label>
                                <select id="project-priority" name="priority">
                                    <option value="High">High</option>
                                    <option value="Medium">Medium</option>
                                    <option value="Low">Low</option>
                                </select>
                            </div>
                            <div class="field span-full">
                                <label for="project-description">Description *</label>
                                <textarea id="project-description" name="description" rows="4" placeholder="Detailed description of the project, its features, and impact..." required></textarea>
                            </div>
                            <div class="field span-full">
                                <label for="project-technologies">Technologies Used</label>
                                <input id="project-technologies" name="technologies" type="text" placeholder="React, Node.js, MongoDB, AWS (comma separated)" />
                            </div>
                            <div class="field">
                                <label for="project-start-date">Start Date</label>
                                <input id="project-start-date" name="startDate" type="date" />
                            </div>
                            <div class="field">
                                <label for="project-end-date">End Date</label>
                                <input id="project-end-date" name="endDate" type="date" />
                            </div>
                            <div class="field">
                                <label for="project-demo">Live Demo URL</label>
                                <input id="project-demo" name="demoUrl" type="url" placeholder="https://demo.example.com" />
                            </div>
                            <div class="field">
                                <label for="project-github">GitHub Repository</label>
                                <input id="project-github" name="githubUrl" type="url" placeholder="https://github.com/username/repo" />
                            </div>
                            <div class="field">
                                <label for="project-image">Project Image URL</label>
                                <input id="project-image" name="imageUrl" type="url" placeholder="https://example.com/project-image.jpg" />
                            </div>
                            <div class="field">
                                <label for="project-team-size">Team Size</label>
                                <input id="project-team-size" name="teamSize" type="number" min="1" placeholder="1" />
                            </div>
                        </div>
                        
                        <div class="checkbox-field">
                            <input type="checkbox" id="project-featured" name="featured" />
                            <label for="project-featured">Featured Project (show prominently)</label>
                        </div>
                        
                        <div style="margin-top:1rem;">
                            <button type="submit" class="btn btn-success"><i class="fas fa-plus"></i> Add Project</button>
                            <button type="reset" class="btn btn-secondary"><i class="fas fa-times"></i> Clear</button>
                        </div>
                    </form>
                </div>
                
                <div class="card">
                    <h4><i class="fas fa-list"></i> Current Projects</h4>
                    <div id="projects-grid" class="grid"></div>
                </div>
            </section>

            <!-- Education Section -->
            <section data-content-section="education" class="hidden">
                <h3 class="section-title">Education Management</h3>
                <p class="section-subtitle">Manage your educational background</p>
                
                <div class="form-section">
                    <h4><i class="fas fa-plus"></i> Add Education</h4>
                    <form id="education-form">
                        <div class="form-grid">
                            <div class="field">
                                <label for="edu-degree">Degree/Qualification *</label>
                                <input id="edu-degree" name="degree" type="text" placeholder="Bachelor of Science in Computer Science" required />
                            </div>
                            <div class="field">
                                <label for="edu-school">Institution *</label>
                                <input id="edu-school" name="school" type="text" placeholder="University of Technology" required />
                            </div>
                            <div class="field">
                                <label for="edu-field">Field of Study</label>
                                <input id="edu-field" name="fieldOfStudy" type="text" placeholder="Computer Science" />
                            </div>
                            <div class="field">
                                <label for="edu-level">Education Level</label>
                                <select id="edu-level" name="level">
                                    <option value="High School">High School</option>
                                    <option value="Associate">Associate Degree</option>
                                    <option value="Bachelor">Bachelor's Degree</option>
                                    <option value="Master">Master's Degree</option>
                                    <option value="PhD">PhD</option>
                                    <option value="Certificate">Certificate</option>
                                    <option value="Diploma">Diploma</option>
                                </select>
                            </div>
                            <div class="field">
                                <label for="edu-start">Start Date</label>
                                <input id="edu-start" name="startDate" type="date" />
                            </div>
                            <div class="field">
                                <label for="edu-end">End Date</label>
                                <input id="edu-end" name="endDate" type="date" />
                            </div>
                            <div class="field">
                                <label for="edu-gpa">GPA/Grade</label>
                                <input id="edu-gpa" name="gpa" type="text" placeholder="3.8/4.0 or First Class" />
                            </div>
                            <div class="field">
                                <label for="edu-location">Location</label>
                                <input id="edu-location" name="location" type="text" placeholder="City, Country" />
                            </div>
                            <div class="field span-full">
                                <label for="edu-description">Description</label>
                                <textarea id="edu-description" name="description" rows="3" placeholder="Relevant coursework, thesis, achievements..."></textarea>
                            </div>
                            <div class="field span-full">
                                <label for="edu-coursework">Relevant Coursework</label>
                                <textarea id="edu-coursework" name="coursework" rows="2" placeholder="List key courses separated by commas"></textarea>
                            </div>
                        </div>
                        
                        <div class="checkbox-field">
                            <input type="checkbox" id="edu-current" name="current" />
                            <label for="edu-current">Currently enrolled</label>
                        </div>
                        
                        <div style="margin-top:1rem;">
                            <button type="submit" class="btn btn-success"><i class="fas fa-plus"></i> Add Education</button>
                            <button type="reset" class="btn btn-secondary"><i class="fas fa-times"></i> Clear</button>
                        </div>
                    </form>
                </div>
                
                <div class="card">
                    <h4><i class="fas fa-list"></i> Education Timeline</h4>
                    <div id="education-timeline" class="grid"></div>
                </div>
            </section>

            <!-- Achievements Section -->
            <section data-content-section="achievements" class="hidden">
                <h3 class="section-title">Achievements Management</h3>
                <p class="section-subtitle">Showcase your certifications, awards, and accomplishments</p>
                
                <div class="form-section">
                    <h4><i class="fas fa-plus"></i> Add Achievement</h4>
                    <form id="achievement-form">
                        <div class="form-grid">
                            <div class="field">
                                <label for="achievement-title">Title *</label>
                                <input id="achievement-title" name="title" type="text" placeholder="AWS Certified Solutions Architect" required />
                            </div>
                            <div class="field">
                                <label for="achievement-organization">Organization *</label>
                                <input id="achievement-organization" name="organization" type="text" placeholder="Amazon Web Services" required />
                            </div>
                            <div class="field">
                                <label for="achievement-date">Date Achieved *</label>
                                <input id="achievement-date" name="date" type="date" required />
                            </div>
                            <div class="field">
                                <label for="achievement-expiry">Expiry Date</label>
                                <input id="achievement-expiry" name="expiryDate" type="date" />
                            </div>
                            <div class="field">
                                <label for="achievement-type">Type</label>
                                <select id="achievement-type" name="type">
                                    <option value="Certification">Certification</option>
                                    <option value="Award">Award</option>
                                    <option value="Recognition">Recognition</option>
                                    <option value="Competition">Competition</option>
                                    <option value="Publication">Publication</option>
                                    <option value="License">License</option>
                                    <option value="Course">Course Completion</option>
                                </select>
                            </div>
                            <div class="field">
                                <label for="achievement-level">Level</label>
                                <select id="achievement-level" name="level">
                                    <option value="International">International</option>
                                    <option value="National">National</option>
                                    <option value="Regional">Regional</option>
                                    <option value="Professional">Professional</option>
                                    <option value="Expert">Expert</option>
                                    <option value="Advanced">Advanced</option>
                                </select>
                            </div>
                            <div class="field">
                                <label for="achievement-score">Score/Grade</label>
                                <input id="achievement-score" name="score" type="text" placeholder="95%, A+, Pass" />
                            </div>
                            <div class="field">
                                <label for="achievement-credential">Credential ID</label>
                                <input id="achievement-credential" name="credentialId" type="text" placeholder="Unique identifier" />
                            </div>
                            <div class="field">
                                <label for="achievement-certificate">Certificate URL</label>
                                <input id="achievement-certificate" name="certificateUrl" type="url" placeholder="https://certificate.example.com" />
                            </div>
                            <div class="field">
                                <label for="achievement-verify">Verification URL</label>
                                <input id="achievement-verify" name="verificationUrl" type="url" placeholder="https://verify.example.com" />
                            </div>
                            <div class="field span-full">
                                <label for="achievement-skills">Related Skills</label>
                                <input id="achievement-skills" name="skills" type="text" placeholder="Cloud Computing, AWS, DevOps (comma separated)" />
                            </div>
                            <div class="field span-full">
                                <label for="achievement-description">Description</label>
                                <textarea id="achievement-description" name="description" rows="3" placeholder="Describe the achievement and its significance..."></textarea>
                            </div>
                        </div>
                        
                        <div style="display:flex; gap:1rem; margin-top:1rem;">
                            <div class="checkbox-field">
                                <input type="checkbox" id="achievement-featured" name="featured" />
                                <label for="achievement-featured">Featured</label>
                            </div>
                            <div class="checkbox-field">
                                <input type="checkbox" id="achievement-verified" name="verified" />
                                <label for="achievement-verified">Verified</label>
                            </div>
                            <div class="checkbox-field">
                                <input type="checkbox" id="achievement-lifetime" name="lifetime" />
                                <label for="achievement-lifetime">Lifetime</label>
                            </div>
                        </div>
                        
                        <div style="margin-top:1rem;">
                            <button type="submit" class="btn btn-success"><i class="fas fa-plus"></i> Add Achievement</button>
                            <button type="reset" class="btn btn-secondary"><i class="fas fa-times"></i> Clear</button>
                        </div>
                    </form>
                </div>
                
                <div class="card">
                    <h4><i class="fas fa-list"></i> Current Achievements</h4>
                    <div id="achievements-grid" class="grid"></div>
                </div>
            </section>

            <!-- Messages Section -->
            <section data-content-section="messages" class="hidden">
                <div class="topbar" style="margin:0 0 .5rem 0;">
                    <h3 class="section-title" style="margin:0;">Messages</h3>
                    <div>
                        <button class="btn" onclick="adminDashboard.markAllAsRead()"><i class="fas fa-envelope-open"></i> Mark all read</button>
                        <button class="btn btn-danger" onclick="adminDashboard.deleteAllRead()"><i class="fas fa-trash"></i> Delete read</button>
                    </div>
                </div>
                <div class="muted" style="margin:.25rem 0;">Total: <span id="total-messages">0</span> • Unread: <span id="unread-messages">0</span></div>
                <div id="messages-list" class="grid"></div>
            </section>

            <!-- Settings Section -->
            <section data-content-section="settings" class="hidden">
                <h3 class="section-title">Settings</h3>
                <p class="section-subtitle">Configure your portfolio preferences</p>
                
                <div class="form-section">
                    <h4><i class="fas fa-cog"></i> General Settings</h4>
                    <form id="general-settings-form">
                        <div class="form-grid">
                            <div class="field">
                                <label for="site-title">Portfolio Title</label>
                                <input id="site-title" name="siteTitle" type="text" placeholder="My Portfolio" />
                            </div>
                            <div class="field">
                                <label for="site-tagline">Tagline</label>
                                <input id="site-tagline" name="tagline" type="text" placeholder="Professional Developer" />
                            </div>
                            <div class="field">
                                <label for="theme-color">Theme Color</label>
                                <input id="theme-color" name="themeColor" type="color" value="#3b82f6" />
                            </div>
                            <div class="field">
                                <label for="contact-email">Contact Email</label>
                                <input id="contact-email" name="contactEmail" type="email" placeholder="contact@example.com" />
                            </div>
                        </div>
                        
                        <div style="margin-top:1rem;">
                            <button type="submit" class="btn btn-success"><i class="fas fa-save"></i> Save Settings</button>
                        </div>
                    </form>
                </div>
                
                <div class="form-section">
                    <h4><i class="fas fa-shield-alt"></i> Security Settings</h4>
                    <form id="security-settings-form">
                        <div class="form-grid">
                            <div class="field">
                                <label for="current-password">Current Password</label>
                                <input id="current-password" name="currentPassword" type="password" />
                            </div>
                            <div class="field">
                                <label for="new-password">New Password</label>
                                <input id="new-password" name="newPassword" type="password" />
                            </div>
                            <div class="field">
                                <label for="confirm-password">Confirm Password</label>
                                <input id="confirm-password" name="confirmPassword" type="password" />
                            </div>
                        </div>
                        
                        <div style="margin-top:1rem;">
                            <button type="submit" class="btn btn-warning"><i class="fas fa-key"></i> Update Password</button>
                        </div>
                    </form>
                </div>
            </section>
        </main>
    </div>

    <!-- Loading overlay -->
    <div id="admin-loading" style="position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(2,6,23,.8);z-index:9998;">
        <div class="card" style="text-align:center;">
            <i class="fas fa-spinner fa-spin" style="font-size:2rem;margin-bottom:1rem;"></i>
            <div>Loading...</div>
        </div>
    </div>

    <script src="js/mock-api.js"></script>
    <script src="js/admin-dashboard.js"></script>
    <script>
        // Additional helper functions
        function logout() {
            if (confirm('Are you sure you want to logout?')) {
                localStorage.removeItem('adminSession');
                window.postMessage({type:'adminLogout'}, '*');
                window.location = 'index.html';
            }
        }
        
        function openPortfolioPreview() {
            window.open('index.html', '_blank');
        }
        
        function resetProfileForm() {
            document.getElementById('profile-form').reset();
            document.getElementById('profile-preview').src = 'images/portfolio.jpg';
        }
        
        function previewAbout() {
            const content = document.getElementById('about-content').value;
            const preview = window.open('', '_blank');
            preview.document.write(`
                <html>
                    <head><title>About Preview</title><style>body{font-family:Arial,sans-serif;padding:20px;line-height:1.6;}</style></head>
                    <body><h1>About Preview</h1><div>${content}</div></body>
                </html>
            `);
        }
        
        // Initialize form handlers when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Profile image preview handler
            const profileImage = document.getElementById('profile-image');
            const profilePreview = document.getElementById('profile-preview');
            
            if (profilePreview) {
                profilePreview.addEventListener('click', () => profileImage?.click());
            }
            
            if (profileImage) {
                profileImage.addEventListener('change', function(e) {
                    const file = e.target.files[0];
                    if (file) {
                        const reader = new FileReader();
                        reader.onload = (e) => {
                            profilePreview.src = e.target.result;
                        };
                        reader.readAsDataURL(file);
                    }
                });
            }
            
            // Auto-update duration for education
            const eduCurrent = document.getElementById('edu-current');
            const eduEndDate = document.getElementById('edu-end');
            
            if (eduCurrent && eduEndDate) {
                eduCurrent.addEventListener('change', function() {
                    eduEndDate.disabled = this.checked;
                    if (this.checked) eduEndDate.value = '';
                });
            }
            
            // Auto-update expiry for lifetime achievements
            const achievementLifetime = document.getElementById('achievement-lifetime');
            const achievementExpiry = document.getElementById('achievement-expiry');
            
            if (achievementLifetime && achievementExpiry) {
                achievementLifetime.addEventListener('change', function() {
                    achievementExpiry.disabled = this.checked;
                    if (this.checked) achievementExpiry.value = '';
                });
            }
        });
    </script>
</body>
</html>
